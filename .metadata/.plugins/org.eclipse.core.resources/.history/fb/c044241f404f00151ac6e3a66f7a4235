// Practice

var main = (function(){
	var win1 = Ti.UI.createWindow({
		title: "Select a Color",
		backgroundImage: "images/tea1.jpeg"
	});
	win1.open();

	var Teas = ["#F5F5DC", "#FFE4B5", "#FFE4C4", "#D2B48C", "#C3B091", "C3B091", "#926F5B", "804000", "654321", "#3D2B1F"];
	
	allRows = [];
	
	var theColors = Ti.UI.createTableView({	
	});
	
	for (var i=0; i<Teas.length; i++){
		theRow = Ti.UI.createTableViewRow({
			backgroundColor: Teas[i],
			height: "10%",
			TeaColor: Teas[i]
		});
		allRows.push(theRow);
	};
	theColors.setData(allRows);
	win1.add(theColors);
})();

var getVerdict = function(color){
	var indicator = color.ChartAt(1);
	var message;
	switch(indicator){
		case "F": message = "Milky"; break;
		case "D": message = "Nice"; break;
		case "C": message = "Perfect"; break;
		case "9": message = "A bit strong"; break;
		case "8": message = "Builders tea"; break;
		case "6": message = "Send it back!!"; break;
		case "3": message = "No milk here"; break;
	}
	return message;
};

var showTeaVerdict = function(_args){
	var teaVerdict = Ti.UI.createWindow({
		layout: "vertical",
		backgroundImage: "images/tea2.jpeg"
	});
	teaVerdict.backgroundColor = _args;
	teaVerdict.message = getVerdict(_args);
	
	var judgement = Ti.UI.createLabel({
		text: teaVerdict.message,
		font: {fontSize: 24, fontWeight: "bold, italics"},
		color: "white",
		top: "50%"
	});
	
	var close = Ti.UI.createButton({
		backgroundColor: "white",
		title: "Choose again",
		color: "black",
		top: "25%"
	});
	close.addEventListener("click", teaVerdict);
		teaVerdict.close();
		teaVerdict = null;
	
	teaVerdict.add(judgement);
	teaVerdict.add(close);
	teaVerdict.open();
};

theColors.addEventListener("click", showTeaVerdict);
